# HLint configuration for haskell-fhir
# https://github.com/ndmitchell/hlint

# ============================================================================
# Severity Settings
# ============================================================================

# Treat these as errors (fail CI)
- error: {name: "Use camelCase"}
- error: {name: "Redundant bracket"}
- error: {name: "Redundant $"}
- error: {name: "Redundant do"}

# ============================================================================
# Ignored Hints
# ============================================================================

# We use explicit signatures for clarity in FHIR types
- ignore: {name: "Eta reduce"}

# Allow sum types in Primitives (Date, DateTime are not newtypes)
- ignore: {name: "Use newtype instead of data", within: ["FHIR.Types.Primitives"]}

# Sometimes explicit is clearer for FHIR domain logic
- ignore: {name: "Use <$>", within: ["FHIR.Types.Primitives"]}

# ============================================================================
# Restricted Functions
# ============================================================================

- functions:
    # Partial functions - avoid in production code
    - {name: "head", within: [], message: "Use Data.List.NonEmpty or pattern matching"}
    - {name: "tail", within: [], message: "Use Data.List.NonEmpty or pattern matching"}
    - {name: "init", within: [], message: "Use Data.List.NonEmpty or pattern matching"}
    - {name: "last", within: [], message: "Use Data.List.NonEmpty or pattern matching"}
    - {name: "!!", within: [], message: "Use safe indexing"}
    - {name: "fromJust", within: [], message: "Use pattern matching or fromMaybe"}

    # Avoid in FHIR code - prefer Text
    - {name: "putStrLn", within: ["FHIR"], message: "Use Text.IO for FHIR modules"}
